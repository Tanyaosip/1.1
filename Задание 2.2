<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Осипенко</title>
  </head>
    <body>
      <h1>
        Осипенко Татьяна Дмитриевна</h1>
  <canvas id="canvas" style=" border: solid; background: lightgrey;"></canvas>
    <script>
    function f(x, y) {
  return x * x + y * y - 81;
}
class Graphics2d {
  constructor() {
    this.xmin = -10.0;
    this.xmax = 10.0;
    this.ymin = -10.0;
    this.ymax = 10.0;
    this.W = 600;
    this.H = 400;
    this.array = new Float64Array(this.W * this.H * 4);
  }
  evaluate() {
    var canvas = document.getElementById("canvas");
    var pixctx = canvas.getContext("2d");
    canvas.height = this.H;
    canvas.width = this.W;
    var imgData = pixctx.getImageData(0, 0, 600, 400);
    var RGBA = imgData.data;
    let alph = Math.PI / 6;
    let X = 0; //Screen X
    let Y = 0; //Screen Y
    let dx = (this.xmax - this.xmin) / this.W;
    for (let p = 0; p < this.W * this.H * 4; p += 4) {
      let x = X / 10;
      let y = -Y / 10;
      x -= 30;
      y += 20;
      const th = 1 / 256;
      let axis_x = Math.abs(y) < th;
      let axis_y = Math.abs(x) < th;
      let axes = (axis_x + axis_y) * 64;
      let grid_vertical = Math.abs(x % 1) < th;
      let grid_horizontal = Math.abs(y % 1) < th;
      let grid = (grid_vertical + grid_horizontal) * 64;
      let axes_and_grid = axes + grid;
      let F = f(x, y);
      let a = Math.abs(F);
      let F1 = (1024 * 20 * 1) / (100 + a);
      if (F > 0) RGBA[p + 0] = F1;
      RGBA[p + 1] = axes_and_grid;
      if (F < 0) RGBA[p + 2] = F1;
      RGBA[p + 3] = 255;
      X++;
      if (X == 600) {
        X = 0;
        Y++;
      }
    }
    pixctx.putImageData(imgData, 0, 0);
  }
}
let g = new Graphics2d();
g.evaluate();
</script>
  </body>
</html>
